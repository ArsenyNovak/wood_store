{% extends "base.html" %}

{% block title %}
{{ title }}
{% endblock %}

{% block content %}
<header class="site-header">
    <div class="container header-inner">
      <a class="brand" href="{{ url_for('read_root') }}">
          <span class="logo-img"></span>
      </a>
    </div>
</header>

<main class="container">
    <section id="add_form" >
      <form method="POST" action="{{ url_for('create_product') }}" class="flex_column form-wrapper">
        <h2>Добавление изделия</h2>
        <div class="add_form flex_column">
            <div class="form_row">
                <label for="title" class="form-fild__label">Название:</label>
                <input class="form_field field__text" type="text" id="title" name="title"
                       value="{{ product.title if product else '' }}" required>
            </div>
            <div class="form_row flex_centre">
                <label for="describe" class="form-fild__label">Описание:</label>
                <textarea class="form_field field__textarea" id="describe" name="describe" required>
                    {{ product.describe if product else '' }}</textarea>
            </div>
            <div class="form_row">
                <label for="count" class="form-fild__label">Количество:</label>
                <input type="number" class="form_field field__number" id="count" name="count"
                       value="{{ product.count if product else 0 }}" required>
            </div>
            <div class="form_row">
                <label for="price" class="form-fild__label">Цена:</label>
                <input type="number" step="0.01" class="form_field field__number" id="price"
                       name="price" value="{{ product.price if product else 0.0 }}" required>
            </div>
            <div class="form_row">
                <label for="category_id" class="form-fild__label">Категория:</label>
                <select id="category_id" name="category_id" class="form_field" required>
                    {% for category in categories %}
                        <option value="{{ category.category_id }}" {% if product and product.category_id == category.category_id %}selected{% endif %}>
                            {{ category.title }}
                        </option>
                    {% endfor %}
                </select>
            </div>
            <div>
                <span class="form-fild__label">Фото:</span>
                <label for="images" class="form-file-button">Выбрать...</label>
                <input type="file" id="images" name="images" multiple accept="image/*">
                <span id="imagesCount"></span>
            </div>
        </div>
        <button type="submit" class="btn_add">Сохранить</button>
      </form>
    </section>
</main>

{% endblock %}

{% block scripts %}
  <script type="module" src="/wood/static/js/form.js"></script>
{% endblock %}



